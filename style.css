@import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Sarabun:wght@300;400;600&display=swap');

/* --- 1. Global Typography & Reset --- */
body {
    font-family: 'Sarabun', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overflow-x: hidden; /* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡∏Ç‡∏ß‡∏≤‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏à */
}

h1, h2, h3, .font-heading {
    font-family: 'Kanit', sans-serif;
}

/* --- 2. 3D Flip Card System (The Core) --- */
.perspective-1000 {
    perspective: 1000px;
}

.card-container {
    transition: transform 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
    transform-style: preserve-3d;
    position: relative;
    width: 100%;
    height: 100%;
    will-change: transform; /* Performance Optimization */
}

.card-container.flipped {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: 1.5rem;
    box-shadow: 0 10px 40px -10px rgba(0, 0, 0, 0.1), 0 4px 10px -5px rgba(0, 0, 0, 0.05); /* Soft Shadow */
    overflow: hidden; /* ‡∏Ñ‡∏•‡∏¥‡∏õ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ç‡∏≠‡∏ö‡πÇ‡∏Ñ‡πâ‡∏á */
}

.card-front {
    background: linear-gradient(145deg, #ffffff 0%, #f1f5f9 100%);
    z-index: 2;
}

.card-back {
    background: linear-gradient(145deg, #eff6ff 0%, #f8fafc 100%);
    transform: rotateY(180deg);
    z-index: 1;
}

/* --- 3. Interaction & Ghost Click Fix (Crucial UX) --- */
/* ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏Å‡∏î‡∏ó‡∏∞‡∏•‡∏∏ ‡πÅ‡∏•‡∏∞‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏î‡πâ‡∏≤‡∏ô‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏û‡∏•‡∏¥‡∏Å */
.card-front { pointer-events: auto; }
.card-back { pointer-events: none; }

.card-container.flipped .card-front { pointer-events: none; }
.card-container.flipped .card-back { pointer-events: auto; }

/* --- 4. Custom Scrollbar (Desktop/Tablet) --- */
/* ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÉ‡∏´‡πâ‡∏î‡∏π Modern ‡πÑ‡∏°‡πà‡∏£‡∏Å‡∏™‡∏≤‡∏¢‡∏ï‡∏≤ */
.card-back::-webkit-scrollbar {
    width: 6px;
}
.card-back::-webkit-scrollbar-track {
    background: rgba(0,0,0,0.02);
}
.card-back::-webkit-scrollbar-thumb {
    background-color: #cbd5e1;
    border-radius: 20px;
    transition: background-color 0.2s;
}
.card-back::-webkit-scrollbar-thumb:hover {
    background-color: #94a3b8;
}

/* =========================================
   üì± RESPONSIVE DESIGN SYSTEM
   ========================================= */

/* --- Level 1: Standard Mobile (<= 480px) --- */
/* ‡∏õ‡∏£‡∏±‡∏ö‡∏à‡∏π‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà */
@media screen and (max-width: 480px) {
    main {
        padding-top: 1rem !important;
        padding-bottom: 1rem !important;
        gap: 1rem !important;
    }

    /* Navbar Compact */
    nav .px-4 { padding-left: 1rem !important; padding-right: 1rem !important; }
    
    /* Card Adjustments */
    .card-face { border-radius: 1.25rem !important; }
    
    /* Typography Scaling */
    #card-front-text { font-size: 2rem !important; padding: 0 1rem; }
    #card-vocab-back { font-size: 2.25rem !important; }
    #card-meaning { font-size: 1.25rem !important; }
}

/* --- Level 2: Compact Mobile (<= 375px) --- */
/* iPhone SE, Mini, Older Androids */
@media screen and (max-width: 375px) {
    
    /* 1. Navbar: Compact Layout */
    nav .font-heading.text-2xl { font-size: 1.1rem !important; }
    nav .fa-layer-group { font-size: 1.1rem !important; }
    nav .bg-indigo-700 {
        font-size: 0.75rem !important;
        padding: 0.25rem 0.6rem !important;
        line-height: 1 !important;
    }

    /* 2. Controls & Inputs */
    #category-select { font-size: 0.9rem !important; padding: 0.5rem !important; }
    #btn-shuffle, #btn-reset { padding: 0.5rem 0.75rem !important; font-size: 0.85rem !important; }

    /* 3. Card Typography & Layout Maximization */
    .card-face { padding: 1rem 0.75rem !important; }
    
    /* Elements Positioning */
    #card-category { top: 0.75rem !important; left: 0.75rem !important; font-size: 0.65rem !important; }
    #front-audio-btns, #back-audio-btns { top: 0.75rem !important; right: 0.75rem !important; }
    
    /* Audio Buttons Sizing */
    #front-audio-btns button, #back-audio-btns button {
        width: 2rem !important; height: 2rem !important;
    }
    #front-audio-btns button i, #back-audio-btns button i { font-size: 0.85rem !important; }

    /* Front Content */
    #question-label { font-size: 0.7rem !important; margin-bottom: 0.5rem !important; letter-spacing: 0.1em !important; }
    #card-front-text { 
        font-size: 2.25rem !important; /* ‡πÉ‡∏´‡∏ç‡πà‡πÄ‡∏ï‡πá‡∏°‡∏ï‡∏≤ */
        line-height: 1.15 !important;
        margin-bottom: 0.75rem !important;
    }
    #tap-hint { font-size: 0.8rem !important; margin-top: 0.5rem !important; }

    /* Back Content */
    .card-back { padding-top: 3.5rem !important; } /* ‡∏´‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏á */
    #card-vocab-back { font-size: 2rem !important; margin-bottom: 0.25rem !important; }
    #card-meaning { font-size: 1.3rem !important; padding-bottom: 0.5rem !important; }

    /* Example Box */
    .card-back .bg-white { width: 100% !important; padding: 0.75rem 0.5rem !important; }
    #card-ex-th { font-size: 1.05rem !important; line-height: 1.35 !important; }
    #card-ex-en { font-size: 1rem !important; line-height: 1.35 !important; }

    /* 4. Bottom Navigation Buttons */
    #btn-prev, #btn-next { width: 2.75rem !important; height: 2.75rem !important; padding: 0 !important;}
    #btn-known { padding: 0.5rem 0.75rem !important; font-size: 0.95rem !important; }
}

/* --- Level 3: Tiny Mobile (<= 320px) --- */
/* iPhone 5/SE1, Galaxy Fold Cover - Extreme Optimization */
@media screen and (max-width: 320px) {
    
    /* 1. Hide Scrollbar (Clean Look) */
    .card-back {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .card-back::-webkit-scrollbar { display: none; }

    /* 2. Layout Restructuring (Flex Reset) */
    /* ‡∏•‡πâ‡∏≤‡∏á Padding ‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Ç‡∏≠‡∏ö‡∏ñ‡∏∂‡∏á‡∏Ç‡∏≠‡∏ö */
    .card-back > div.flex {
        padding: 0 !important; 
        padding-bottom: 0.5rem !important;
        justify-content: flex-start !important; /* ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡∏•‡∏á‡∏°‡∏≤ */
    }

    .card-face {
        padding-left: 0.5rem !important;
        padding-right: 0.5rem !important;
    }

    /* 3. Typography Maxed Out */
    #card-front-text { font-size: 2.4rem !important; margin-bottom: 0.5rem !important; }
    #card-vocab-back { font-size: 2.2rem !important; }
    #card-meaning { font-size: 1.4rem !important; }

    /* 4. Sticky Bottom Example Box (Design Hero) */
    .card-back .bg-white {
        width: 100% !important;
        margin-top: auto !important; /* ‡∏î‡∏±‡∏ô‡∏•‡∏á‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î */
        margin-bottom: 0 !important;
        border: 1px solid #e2e8f0 !important; /* ‡πÉ‡∏™‡πà‡∏Ç‡∏≠‡∏ö‡πÅ‡∏ó‡∏ô‡πÄ‡∏á‡∏≤‡πÉ‡∏´‡πâ‡∏î‡∏π‡∏Ñ‡∏° */
        box-shadow: none !important;
        border-radius: 1rem !important;
        padding: 0.75rem 0.5rem !important;
    }
    
    /* ‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡πÉ‡∏´‡πâ‡∏≠‡πà‡∏≤‡∏ô‡∏á‡πà‡∏≤‡∏¢‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏≥‡∏Å‡∏±‡∏î */
    #card-ex-th { font-size: 1.1rem !important; margin-bottom: 0.25rem !important; }
    #card-ex-en { font-size: 0.95rem !important; }
    
    /* 5. Compact Bottom Controls */
    #btn-known { font-size: 0.9rem !important; padding: 0.5rem !important; }
    #btn-prev, #btn-next { width: 2.5rem !important; height: 2.5rem !important; }
}