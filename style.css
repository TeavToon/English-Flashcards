@import url('https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Sarabun:wght@300;400;500;600&display=swap');

/* Tailwind Setup is handled via CDN in HTML, 
   Here we add specific overrides */

:root {
    --card-radius: 1.5rem;
}

body {
    font-family: 'Sarabun', sans-serif;
    overscroll-behavior-y: none; /* Prevent Pull-to-refresh on mobile */
    -webkit-tap-highlight-color: transparent;
}

.font-heading { font-family: 'Kanit', sans-serif; }

/* --- 3D Card Engine --- */
.perspective-container {
    perspective: 1500px;
}

.card-container {
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.2, 0.8, 0.2, 1);
    will-change: transform;
}

.card-container.flipped {
    transform: rotateY(180deg);
}

.card-face {
    position: absolute;
    inset: 0;
    -webkit-backface-visibility: hidden;
    backface-visibility: hidden;
    border-radius: var(--card-radius);
    
    /* Default (Light) */
    background: #ffffff;
    border: 1px solid #e2e8f0;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.01);
    
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Dark Mode Overrides for Card */
.dark .card-face {
    background: #1e293b; /* slate-800 */
    border-color: #334155;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
}

.card-front {
    z-index: 2;
    background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
}
.dark .card-front {
    background: linear-gradient(145deg, #1e293b 0%, #0f172a 100%);
}

.card-back {
    z-index: 1;
    transform: rotateY(180deg);
    background: linear-gradient(145deg, #f0f9ff 0%, #ffffff 100%);
}
.dark .card-back {
    background: linear-gradient(145deg, #1e293b 0%, #1e293b 100%);
}

/* --- Fluid Typography --- */
#card-front-text { font-size: clamp(1.8rem, 6vw, 3rem); }
#card-vocab-back { font-size: clamp(1.5rem, 5vw, 2.5rem); }
#card-meaning { font-size: clamp(1rem, 4vw, 1.4rem); }

/* --- Scrollbar --- */
.custom-scroll { overflow-y: auto; scrollbar-width: thin; }
.custom-scroll::-webkit-scrollbar { width: 4px; }
.custom-scroll::-webkit-scrollbar-thumb { background-color: #cbd5e1; border-radius: 20px; }
.dark .custom-scroll::-webkit-scrollbar-thumb { background-color: #475569; }

/* --- Animations --- */
@keyframes fadeUp {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}
.animate-fade-up { animation: fadeUp 0.4s ease-out forwards; }

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}
.animate-fade-in { animation: fadeIn 0.3s ease-out forwards; }

.mic-listening {
    animation: pulse-red 1.5s infinite;
    color: #ef4444 !important; /* Red-500 */
}
@keyframes pulse-red {
    0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.7); }
    70% { transform: scale(1.1); box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
    100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
}

/* Interaction Logic */
.card-front { pointer-events: auto; }
.card-back { pointer-events: none; }
.card-container.flipped .card-front { pointer-events: none; }
.card-container.flipped .card-back { pointer-events: auto; }